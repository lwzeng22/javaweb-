(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c2b5bb3"],{"03ad":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return n}));var r=o("b775");function i(e){return Object(r["a"])({url:"/project/user/login",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/project/user/register",method:"post",data:e})}},"10dd":function(e,t,o){},"617f":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"verify-main",on:{click:e.refreshCode}},[o("sidentify",{attrs:{identifyCode:e.identifyCode}})],1)},i=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"s-canvas"},[o("canvas",{attrs:{id:"s-canvas",width:e.contentWidth,height:e.contentHeight}})])},s=[],a=(o("a9e3"),o("cb29"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:35},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:200},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:120},contentHeight:{type:Number,default:40}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){var o=this.randomNum(e,t),r=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+o+","+r+","+i+")"},transparent:function(){return"rgb(255,255,255)"},drawPic:function(){var e=document.getElementById("s-canvas"),t=e.getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillStyle=this.transparent(),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(var o=0;o<this.identifyCode.length;o++)this.drawText(t,this.identifyCode[o],o);this.drawLine(t),this.drawDot(t)},drawText:function(e,t,o){e.fillStyle=this.randomColor(this.colorMin,this.colorMax),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var r=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),n=this.randomNum(-10,10);e.translate(r,i),e.rotate(n*Math.PI/180),e.fillText(t,0,0),e.rotate(-n*Math.PI/180),e.translate(-r,-i)},drawLine:function(e){for(var t=0;t<10;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot:function(e){for(var t=0;t<100;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),l=a,u=o("2877"),c=Object(u["a"])(l,n,s,!1,null,null,null),d=c.exports,f={components:{sidentify:d},data:function(){return{identifyCode:""}},mounted:function(){this.refreshCode()},methods:{refreshCode:function(){this.identifyCode="",this.makeCode(5),localStorage.setItem("identifyCode",this.identifyCode)},randomNum:function(e,t){return t+=1,Math.floor(Math.random()*(t-e)+e)},makeCode:function(e){for(var t="0123456789",o=0;o<e;o++)this.identifyCode+=t[this.randomNum(0,t.length-1)]}}},m=f,h=(o("7217"),Object(u["a"])(m,r,i,!1,null,"546073af",null));t["a"]=h.exports},7217:function(e,t,o){"use strict";o("10dd")},"7c09":function(e,t,o){},"81d5":function(e,t,o){"use strict";var r=o("7b0b"),i=o("23cb"),n=o("07fa");e.exports=function(e){var t=r(this),o=n(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,o),l=s>2?arguments[2]:void 0,u=void 0===l?o:i(l,o);while(u>a)t[a++]=e;return t}},cb29:function(e,t,o){var r=o("23e7"),i=o("81d5"),n=o("44d2");r({target:"Array",proto:!0},{fill:i}),n("fill")},d5c2:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-main"},[o("div",{staticClass:"input-main"},[o("div",{staticClass:"login-title"},[e._v("图书管理系统注册")]),o("div",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"90px"}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"账号",prop:"userAccount"}},[o("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.form.userAccount,callback:function(t){e.$set(e.form,"userAccount",t)},expression:"form.userAccount"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"密码",prop:"userPassword"}},[o("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"姓名",prop:"userNickname"}},[o("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.userNickname,callback:function(t){e.$set(e.form,"userNickname",t)},expression:"form.userNickname"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[o("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.userPhone,callback:function(t){e.$set(e.form,"userPhone",t)},expression:"form.userPhone"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[o("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.userEmail,callback:function(t){e.$set(e.form,"userEmail",t)},expression:"form.userEmail"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"学校",prop:"userSchool"}},[o("el-input",{attrs:{placeholder:"请输入学校"},model:{value:e.form.userSchool,callback:function(t){e.$set(e.form,"userSchool",t)},expression:"form.userSchool"}})],1)],1),"学生"==e.loginInfo.userPermissions?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"学院",prop:"userAcademy"}},[o("el-input",{attrs:{placeholder:"请输入学院"},model:{value:e.form.userAcademy,callback:function(t){e.$set(e.form,"userAcademy",t)},expression:"form.userAcademy"}})],1)],1):e._e(),"学生"==e.loginInfo.userPermissions?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"专业",prop:"userSpecialized"}},[o("el-input",{attrs:{placeholder:"请输入专业"},model:{value:e.form.userSpecialized,callback:function(t){e.$set(e.form,"userSpecialized",t)},expression:"form.userSpecialized"}})],1)],1):e._e(),"学生"==e.loginInfo.userPermissions?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"入学时间",prop:"userInshijian"}},[o("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择入学时间"},model:{value:e.form.userInshijian,callback:function(t){e.$set(e.form,"userInshijian",t)},expression:"form.userInshijian"}})],1)],1):e._e(),"学生"==e.loginInfo.userPermissions?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"毕业时间",prop:"userOutshijian"}},[o("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择毕业时间"},model:{value:e.form.userOutshijian,callback:function(t){e.$set(e.form,"userOutshijian",t)},expression:"form.userOutshijian"}})],1)],1):e._e(),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"性别",prop:"userSex"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.userSex,callback:function(t){e.$set(e.form,"userSex",t)},expression:"form.userSex"}},[o("el-option",{attrs:{label:"男",value:"男"}}),o("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)],1)],1)],1),o("div",[o("div",{staticClass:"label"},[e._v("验证码")]),o("div",[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:e.loginInfo.verificationCode,callback:function(t){e.$set(e.loginInfo,"verificationCode",t)},expression:"loginInfo.verificationCode"}})],1),o("el-col",{attrs:{span:5}},[o("VerifyCode")],1)],1)],1)]),o("div",{staticStyle:{display:"flex",margin:"10px auto"}},[o("el-radio",{attrs:{label:"学生"},model:{value:e.loginInfo.userPermissions,callback:function(t){e.$set(e.loginInfo,"userPermissions",t)},expression:"loginInfo.userPermissions"}},[e._v("学生")]),o("el-radio",{attrs:{label:"教师"},model:{value:e.loginInfo.userPermissions,callback:function(t){e.$set(e.loginInfo,"userPermissions",t)},expression:"loginInfo.userPermissions"}},[e._v("教师")]),o("el-radio",{attrs:{label:"管理员"},model:{value:e.loginInfo.userPermissions,callback:function(t){e.$set(e.loginInfo,"userPermissions",t)},expression:"loginInfo.userPermissions"}},[e._v("管理员")])],1),o("div",[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.register}},[e._v(" 注册 ")]),o("el-button",{staticStyle:{width:"100%","margin-top":"10px","margin-left":"0px"},on:{click:e.tologin}},[e._v(" 登录==> ")])],1)])])},i=[],n=o("617f"),s=o("03ad"),a={components:{VerifyCode:n["a"]},data:function(){return{form:{},loginInfo:{number:"",pws:"",verificationCode:"",userPermissions:"学生"}}},methods:{tologin:function(){this.$router.push("/login")},register:function(){var e=this;this.form.userAccount?this.form.userPassword?this.loginInfo.verificationCode?this.loginInfo.verificationCode===localStorage.getItem("identifyCode")?(this.form.userPermissions=this.loginInfo.userPermissions,Object(s["b"])(this.form).then((function(t){"该账号已经注册过"==t.data?e.msgerror(t.data):(e.msgsuccess("注册成功"),e.$router.push("/login"))}))):this.msgerror("验证码错误"):this.msgerror("请输入验证码"):this.msgerror("请输入密码"):this.msgerror("请输入账号")}}},l=a,u=(o("f57d"),o("2877")),c=Object(u["a"])(l,r,i,!1,null,"6d5e695a",null);t["default"]=c.exports},f57d:function(e,t,o){"use strict";o("7c09")}}]);
//# sourceMappingURL=chunk-4c2b5bb3.9bf6ff44.js.map